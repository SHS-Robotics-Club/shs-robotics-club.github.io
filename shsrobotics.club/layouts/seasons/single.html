{{ define "main" }}
<article class="season-single">
  <header class="post-header">
    <h1>{{ .Title }}</h1>
    <div class="season-badges">
      {{- with .Params.year }}
      <span class="badge year">{{ . }}</span>
      {{- end }}
      {{- with .Params.competition }}
      <span class="badge competition">{{ . }}</span>
      {{- end }}
      {{- with .Params.robot_name }}
      <span class="badge robot">ðŸ¤– {{ . }}</span>
      {{- end }}
    </div>
  </header>

  <section class="post-content">
    {{- with .Params.code_link }}
    <div class="season-link">
      <a href="{{ . }}" target="_blank" class="btn-code">
        <svg height="20" width="20" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
        </svg>
        View Code
      </a>
    </div>
    {{- end }}

    {{- with .Params.summary }}
    <div class="season-summary">
      <h2>Season Overview</h2>
      <p>{{ . }}</p>
    </div>
    {{- end }}

    {{- with .Params.team_members }}
    <div class="season-section team-section">
      <h2>Team Members</h2>
      <ul class="team-list">
        {{- range . }}
        <li>
          <strong>{{ .name }}</strong> - {{ .role }} ({{ .years }}th year)
        </li>
        {{- end }}
      </ul>
    </div>
    {{- end }}

    {{- with .Params.sponsors }}
    <div class="season-section sponsors-section">
      <h2>Sponsors</h2>
      <ul class="sponsors-list">
        {{- range . }}
        <li>{{ .name }}</li>
        {{- end }}
      </ul>
    </div>
    {{- end }}

    {{- with .Params.awards }}
    <div class="season-section awards-section">
      <h2>Awards</h2>
      <ul class="awards-list">
        {{- range . }}
        <li class="award-item">
          <strong>{{ .name }}</strong>
          {{- with .event }}
          <span class="award-event"> - {{ . }}</span>
          {{- end }}
        </li>
        {{- end }}
      </ul>
    </div>
    {{- end }}

    {{- with .Params.outreach }}
    <div class="season-section outreach-section">
      <h2>Outreach</h2>
      <ul class="outreach-list">
        {{- range . }}
        <li>{{ . }}</li>
        {{- end }}
      </ul>
    </div>
    {{- end }}

    {{ .Content }}
  </section>
</article>

<style>
.season-badges {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-top: 0.5rem;
}
.badge {
  padding: 0.4rem 0.8rem;
  border-radius: 1rem;
  font-size: 0.9rem;
  font-weight: 600;
}
.badge.year {
  background: #2563eb;
  color: #ffffff;
}
.badge.competition {
  background: #7c3aed;
  color: #ffffff;
}
.badge.robot {
  background: #059669;
  color: #ffffff;
}
.btn-code {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.6rem 1.2rem;
  background: #1f2937;
  color: #f9fafb;
  border-radius: 6px;
  text-decoration: none;
  margin-bottom: 1.5rem;
  font-weight: 500;
  border: 1px solid #374151;
}
.btn-code:hover {
  background: #374151;
}
.season-summary {
  background: #f3f4f6;
  padding: 1.25rem;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  border-left: 4px solid #2563eb;
}
:root:not(.dark) .season-summary {
  background: #f9fafb;
}
.season-summary h2 {
  margin-top: 0;
  color: #111827;
}
.season-section {
  margin-bottom: 1.5rem;
}
.season-section h2 {
  color: #111827;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: 0.5rem;
}
.team-list, .sponsors-list, .awards-list, .outreach-list {
  list-style: none;
  padding-left: 0;
}
.team-list li, .sponsors-list li {
  padding: 0.5rem 0;
  border-bottom: 1px solid #e5e7eb;
  color: #374151;
}
.team-list li strong {
  color: #111827;
}
.award-item {
  padding: 0.5rem 0;
  border-bottom: 1px solid #e5e7eb;
}
.award-item strong {
  color: #111827;
}
.award-event {
  color: #6b7280;
}
:root:not(.dark) .sponsor-tier,
:root:not(.dark) .award-event {
  color: #4b5563;
}
@media (prefers-color-scheme: dark) {
  .season-summary {
    background: #1f2937;
    border-left-color: #3b82f6;
  }
  .season-summary h2,
  .season-section h2,
  .team-list li strong,
  .award-item strong {
    color: #f9fafb;
  }
  .team-list li, .sponsors-list li, .award-item {
    border-bottom-color: #374151;
    color: #d1d5db;
  }
  .award-event {
    color: #9ca3af;
  }
}
</style>
{{- end }}
