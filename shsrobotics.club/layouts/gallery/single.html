{{ define "main" }}
<article class="post-single">
  <header class="post-header">
    <h1>{{ .Title }}</h1>
    <div class="post-meta">
      <time>{{ .Date.Format "Jan 2, 2006" }}</time>
      {{- with .Params.category }}
      <span class="post-category">{{ . }}</span>
      {{- end }}
    </div>
  </header>
  <section class="post-content">
    {{- with .Params.description }}
    <p>{{ . }}</p>
    {{- end }}
    
    {{- with .Params.images }}
    <div class="gallery-grid">
      {{- range . }}
      <figure class="gallery-item">
        <img src="{{ . | relURL }}" alt="{{ $.Title }}" loading="lazy" />
      </figure>
      {{- end }}
    </div>
    {{- end }}
    
    {{ .Content }}
  </section>
</article>

<style>
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 1rem;
  margin: 2rem 0;
}
.gallery-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 8px;
}
</style>
{{- end }}
